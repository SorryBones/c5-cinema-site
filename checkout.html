
<!DOCTYPE html>
<html lang="en">

	<head>
		<title>UGA Flix</title>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="style.css" rel="stylesheet">
		<script async src='/cdn-cgi/bm/cv/669835187/api.js'></script>
		<link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@700&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
			integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		<style>
			body {
				margin: 0;
				font-family: "Lexend Deca";
				background-color: black;
			}
	
	
			.responsive {
				width: 100%;
				height: auto;
			}
		</style>
	</head>

	<body style="padding-top:55px ; background-color: black">

		<!--Navbar-->
		<nav class="navbar fixed-top navbar-expand-lg navbar-dark" style="background-color: #272727;">
			<a class="navbar-brand" href="index.html">UGA Flix</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
			</button>
		
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
				  <form action="/index.html">
					<input class="btn" type="submit" value="Home" style="background-color:#272727 ; color:white">
				  </form>
				  <form action="/browse.html">
					<input class="btn" type="submit" value="Browse" style="background-color:#272727 ; color:white">
				  </form>
				  <form action="/profile.html">
					<input class="btn" id="profileButton" type="submit" value="Profile" style="background-color:#272727 ; color:white">
				  </form>
				  <form action="/login.html">
					<input class="btn" id="loginButton" type="submit" value="Login" style="background-color:#272727 ; color:white">
				  </form>
				</ul>
			</div>
		  </nav>
	
<div>
	<div class="div-base" style="height: 55vh; margin: 5% 20% 0 20%; width: auto; text-align: center; display: flex; flex-direction: column; align-items: center; row-gap: 10%;">

	<h1 style="text-align: center ; font-size: 50px;">Select a payment card</h1>

	<!-- for-each this for every card on account-->
	<div style="width:90% ; height: auto; max-height:auto; background-color: black; display: flex; flex-direction: row; flex-wrap: wrap; justify-content: center; column-gap: 10%;">
		<div style="width:60% ; height:auto;">
			<h1>Card Number:</h1>
			<h1 id = "cardNumber"> XXXX XXXX XXXX XXXX</h1> <!--Get Number from database-->
		</div>
		<!--Div for Type:-->
		<div style="width:20% ; height:auto;">
			<h1>Type:</h1>
			<h1 id = "cardType"></h1> <!--GET type from database-->
		</div>		
		<!--Div for Exp-->
		<div style="height:auto ; min-width:5% ; max-width:40% ; font-size: 10px;">
			<h1>Expiration Date : </h1>
			<h1 id = "expirationDate">XX/XXXX </h1>

	
		</div>
		<!--Div for selection Checkbox-->
		<div style="width:15% ; height:100%; float: right;"> 
			<input type="checkbox" style="width: 60%; height: 50%;">
		</div>
	</div>	
	
</div>	
<form action="/purchase" method="GET">
<button style="margin: 5% 45% 0 44%; width: auto; height: auto; background-color:#e6e6e6;font-size:35px;color:black;border-radius: 45px; border: 8px solid black; text-align: center; align-self: center;"><b>Purchase</b></button>
</form>
</div>

<script src="https://code.jquery.com/jquery-3.6.1.min.js"
integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
crossorigin="anonymous"></script>

<script>
  $(document).ready(function() {
	$.ajax( {
	  url: "/isLoggedIn",
	  type: "GET",
	  success: function(result) {
		if (result.status == true) $('#loginButton').remove();
		else $('#profileButton').remove();
	  },
	  error: function(XMLHttpRequest, textStatus, errorThrown) {
		console.log('failure');
	  }
	});
  });
</script>
  
<script> // CARD CREDENTIALS
	$(document).ready(function() {
	  $.ajax( {
		url: "/getCard",
		type: "GET",
		success: function(result) {
		  if (result.status == false) console.log('no cards');
		  else {
			console.log(result);
			$("#cardType").html(result.type);
			$("#expirationDate").html(result.expiration_month + '/' + result.expiration_year);
			$("#cardNumber").html(result.card_num);
		  }
		},
		error: function(XMLHttpRequest, textStatus, errorThrown) {
		  console.log('failure');
		}
	  });
	});
  </script>
</body>
</html>
