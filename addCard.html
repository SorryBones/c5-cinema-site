
<!DOCTYPE html>
<html lang="en">

<head>
  <title>UGA Flix</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="style.css" rel="stylesheet">
  <script async src='/cdn-cgi/bm/cv/669835187/api.js'></script>
  <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

</head>

<body style="padding-top:55px ; background-color: black">

  <!--Navbar-->
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark" style="background-color: #272727">
    <a class="navbar-brand" href="index.html">UGA Flix</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <form action="/index.html">
            <input class="btn" type="submit" value="Home" style="background-color:#272727 ; color:white">
          </form>
          <form action="/browse.html">
            <input class="btn" type="submit" value="Browse" style="background-color:#272727 ; color:white">
          </form>
          <form action="/profile.html">
            <input class="btn" id="profileButton" type="submit" value="Profile" style="background-color:#272727 ; color:white">
          </form>
          <form action="/login.html">
            <input class="btn" id="loginButton" type="submit" value="Login" style="background-color:#272727 ; color:white">
          </form>
        </ul>
        <a href="cart.html"><img src="images/cart.png" width="30" height="30" alt="Cart"></a> <!--Cart-->
    </div>
  </nav>
  
  <!-- Side Navbar -->
  <ul class="sidebar"> 
    <form action="/profile.html" method="GET">
      <input class="btn" type="submit" value="Profile" style="background-color:#272727 ; color:white">
    </form>
    <form action="/usercards.html" method="GET">
      <input class="btn" type="submit" value="Payment" style="background-color:#272727 ; color:white">
    </form>
    <form action="/orderHistory.html" method="GET">
      <input class="btn" type="submit" value="Order History" style="background-color:#272727 ; color:white">
    </form>
    <div id="adminControlsButton">
      <form action="/adminMain.html" method="GET">
        <input class="btn" type="submit" id="adminControls" value="Admin Controls" style="background-color:#272727 ; color:gold">
      </form>
    </div>
    <form action="/logout" method="GET">
      <input class="btn" type="submit" value="Logout" style="background-color:#272727 ; color:white">
    </form>
  </ul>

<div style="width: 85%; float: inline-end; height: 55em; display: flex; justify-content: center; padding: 2%;">
<div class="div-base" style="width:auto ; height: max-content ; padding:5px 10% 5px 10%; border-radius: 15px; display: flex; align-items: center;">
  <form action="/addCard" method="POST" style="text-align: center; ">
    <div style="display: flexbox; flex-direction: column; justify-content: center;">
    <h2 style="text-align: center">New Card</h2>
      <Label for="cardtype"> Card Type:</Label><br>
      <select class="form-register" style="width:70%; height: auto; font-size: large;" id="cardtype" name="cardType">
        <option value="Visa">Visa</option>
        <option value="Mastercard">Mastercard</option>
        <option value="AmericanExpress">American Express</option>
        <option value="Discover">Discover</option></select> <br><br>
      
      <Label for="cardnumb"> Card Number: (#### #### #### ####)</Label><br>
      <input class="form-register" type="text" id="cardnumb" name="cardNumb" placeholder="#### #### #### ####" pattern="[0-9]{4} [0-9]{4} [0-9]{4} [0-9]{4}" required><br><br>
    
      <Label for="expDate"> Expiration Date: (##/####)</Label><br>
      <input class="form-register" style="width: 7em;" type="text" id="" name="expDate" placeholder="MM/YYYY" pattern = "[0-1]{1}[0-9]{1}/[2]{1}[0][2]{1}[2-9]{1}" required><br><br>
    
      <h4> Billing Address </h4>
      <Label for="billingStreet"> Street Address:</Label><br>
      <input class="form-register" style="width:85%" type="text" id="billingStreet" name="billingStreet" placeholder="123 example street" required><br><br>

      <Label for="billingCity"> City:</Label><br>
      <input class="form-register" style="width:70%" type="text" id="billingCity" name="billingCity" placeholder="Athens" required><br><br>

      <Label for="billingState"> State:</Label><br>
      <select class="form-register" style="width:20%; height: max-content; font-size: large;" id="billingState" name="billingState">
        <option value="AL">AL</option>
        <option value="AK">AK</option>
        <option value="AR">AR</option>
        <option value="AZ">AZ</option>
        <option value="CA">CA</option>
        <option value="CO">CO</option>
        <option value="CT">CT</option>
        <option value="DC">DC</option>
        <option value="DE">DE</option>
        <option value="FL">FL</option>
        <option value="GA">GA</option>
        <option value="HI">HI</option>
        <option value="IA">IA</option>
        <option value="ID">ID</option>
        <option value="IL">IL</option>
        <option value="IN">IN</option>
        <option value="KS">KS</option>
        <option value="KY">KY</option>
        <option value="LA">LA</option>
        <option value="MA">MA</option>
        <option value="MD">MD</option>
        <option value="ME">ME</option>
        <option value="MI">MI</option>
        <option value="MN">MN</option>
        <option value="MO">MO</option>
        <option value="MS">MS</option>
        <option value="MT">MT</option>
        <option value="NC">NC</option>
        <option value="NE">NE</option>
        <option value="NH">NH</option>
        <option value="NJ">NJ</option>
        <option value="NM">NM</option>
        <option value="NV">NV</option>
        <option value="NY">NY</option>
        <option value="ND">ND</option>
        <option value="OH">OH</option>
        <option value="OK">OK</option>
        <option value="OR">OR</option>
        <option value="PA">PA</option>
        <option value="RI">RI</option>
        <option value="SC">SC</option>
        <option value="SD">SD</option>
        <option value="TN">TN</option>
        <option value="TX">TX</option>
        <option value="UT">UT</option>
        <option value="VT">VT</option>
        <option value="VA">VA</option>
        <option value="WA">WA</option>
        <option value="WI">WI</option>
        <option value="WV">WV</option>
        <option value="WY">WY</option>
      </select> <br><br>
      
      <Label for="billingZip"> Zip Code: (#####)</Label><br>
      <input class="form-register" style="width:40%" type="text" id="billingZip" name="billingZip" placeholder="12345" pattern="[0-9]{5}" required><br><br>

      <input type="submit" class="button-book-now" value="Submit">

      </div>
    </form>
  </div>
</div>


  <script src="https://code.jquery.com/jquery-3.6.1.min.js"
  integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
  crossorigin="anonymous"></script>

  <script>
    $(document).ready(function() {
      $.ajax( {
        url: "/isLoggedIn",
        type: "GET",
        success: function(result) {
          if (result.status == true) $('#loginButton').remove();
          else $('#profileButton').remove();
        },
        error: function(XMLHttpRequest, textStatus, errorThrown) {
          console.log('failure');
        }
      });
    });
  </script>
  
  <script> // ADMIN CONTROLS SIDEBAR
    $(document).ready(function() {
      $.ajax( {
        url: "/userInfo",
        type: "GET",
        success: function(result) {
          if (result.utype_id == 2) $('#adminControlsButton').remove();
          $("#name").html(result.first_name + ' ' + result.last_name);
          $("#phone").html(result.phone_num);
          $("#email").html(result.email);
      }});
    });
  </script>

</body>
</html>
